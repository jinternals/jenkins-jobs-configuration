- job-template:
    id: "{name}-git-pull-request-pipeline-template"
    display-name: "{display-name}"
    description: "${description}"
    name: "{name}-pipeline"
    project-type: pipeline
    folder: "{folder}"
    dsl:
      !include-raw:
      - ../dsl/git-pull-request-pipeline-dsl.groovy
    parameters:
      - string:
          name: VERSION
    scm:
      - git:
         credentials-id: "github"
         url: "{gitRepository}"
         branches:
          - "origin/{gitBranch}"
    triggers:
      - github-pull-request:
          cron: 'H/5 * * * *'
          trigger-phrase: 'retest this please'
          only-trigger-phrase: true
          github-hooks: true
          permit-all: false
          auto-close-on-fail: false
          allow-whitelist-orgs-as-admins: true
          success-comment: 'success comment'
          failure-comment: 'failure comment'
          error-comment: 'error comment'
